(function(a){a(function(){var m=a(".stackedMembersList"),j=m.height();memberBoxPadding=m.css("padding").split(" ")[2];m.hide().css({height:0,"padding-bottom":0});
a(".stackedMembers.hasMembers").click(function(u){var v=a(this);u.preventDefault();if(m.is(":visible")){m.animate({height:0,"padding-bottom":0},{duration:200,easing:"linear",complete:function(){m.hide();
}});v.removeClass("open");}else{m.show().animate({height:j,"padding-bottom":memberBoxPadding},200,"linear");v.addClass("open");}});function l(){a(".commentlist").hide();
}function b(u){a(u).show();}a(".commentsTabs h2").click(function(){l();a(this).addClass("active").siblings().removeClass("active");var u=a(this).attr("data-comments")+"stack";
b("."+u);});a(".commentsTabs h2.active").click();a(".userinfo a, #item-buttons a").tipsy({gravity:"n"});a(".stack-short .stackLink a").tipsy({gravity:"e"});
a(".commenticon").tipsy({gravity:"n"});a(".search-field-filters .filter input").tipsy({gravity:"n"});a(".calendar-nextprev a").tipsy({gravity:"n"});a("td.has-stack").tipsy({gravity:"n"});
var f=a(".search-anchor"),o=a(".search-field"),e=a(".search-field-cancel"),i=a(".search-filter-stacks"),n=a(".search-filter-forum"),r=a(".search-filter-members"),h=a(".search-filter-groups");
f.click(function(){a(".menu").removeClass("mobile-visible");a(".userinfo").removeClass("mobile-visible");if(f.hasClass("search-field-visible")){o.removeClass("search-field-visible");
f.removeClass("search-field-visible");}else{f.addClass("search-field-visible");o.addClass("search-field-visible");}});e.click(function(){o.removeClass("search-field-visible");
f.removeClass("search-field-visible");});var q=a(".mobile-menu-hitbox"),c=a(".menu"),g=a(".mobile-account-hitbox"),p=a(".userinfo"),s=a(".mobile-login-hitbox"),t=a(".login");
q.click(function(u){u.preventDefault();o.removeClass("search-field-visible");f.removeClass("search-field-visible");p.removeClass("mobile-visible");t.removeClass("mobile-visible");
c.toggleClass("mobile-visible");});g.click(function(u){u.preventDefault();o.removeClass("search-field-visible");f.removeClass("search-field-visible");c.removeClass("mobile-visible");
t.removeClass("mobile-visible");p.toggleClass("mobile-visible");});s.click(function(u){u.preventDefault();o.removeClass("search-field-visible");f.removeClass("search-field-visible");
c.removeClass("mobile-visible");p.removeClass("mobile-visible");t.toggleClass("mobile-visible");});var k=a("#search"),d=k.attr("action");a(".search-field-filters .filter").each(function(){var w=a(this),v=w.find("input"),u="active";
w.click(function(y){w.addClass(u).siblings().removeClass(u);v.prop("checked",true);x(v.val());});if(v.prop("checked")==true){w.addClass(u).siblings().removeClass(u);
}function x(z){k.find("input[type=hidden]").remove();switch(z){case"forum":var y=d;k.attr("action",y);a("<input type='hidden' name='post_type' value='' />").attr("value","forum_search").appendTo(k);
break;case"member":var y=d+"/members";k.attr("action",y);break;case"group":var y=d+"/groups";k.attr("action",y);break;case"stack":var y=d;k.attr("action",y);
a("<input type='hidden' name='post_type' value='' />").attr("value","stack").appendTo(k);break;}}});if(a("body").hasClass("bbPress")){a(".filter.filter-forum").click();
}else{if(a("body").hasClass("members")||a("body").hasClass("bp-user")){a(".filter.filter-members").click();}else{if(a("body").hasClass("groups")){a(".filter.filter-group").click();
}else{a(".filter.filter-stacks").click();}}}a(".ajax-pagination a").live("click",function(x){var v=a(this);x.preventDefault();if(v.hasClass("disabled")){return false;
}var y=v.attr("href");var u=v.html();a(".ajax-pagination").html("<span class='loading-posts'>Loading...</span>");a(".load-error").remove();a(".loadmore-pagination").hide();
a(".loadmore-pagination-links").hide();var w="#primary";a("<div>").load(y+" "+w,function(A,z){if(A.readyState=4){if(z=="success"){a(".stack-container").append("<div class='page-break'></div>");
a(".stack-container").append(a(this).find(".stack-container").html());var B=a(".ajax-pagination",this).html();a(".ajax-pagination").html(B);}else{a(".ajax-pagination").html(u);
a(".ajax-pagination").before("<span class='load-error'>Error retrieving stacks. Please try again.</span>");a(".loadmore-pagination").show();}}});});});
})(jQuery);